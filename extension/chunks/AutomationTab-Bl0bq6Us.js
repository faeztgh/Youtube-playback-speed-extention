import{c as T,r as u,g as w,j as e,s as C}from"./PresetList-CE6TDJkt.js";(function(){const m=document.createElement("link").relList;if(m&&m.supports&&m.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const d of s)if(d.type==="childList")for(const c of d.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function l(s){const d={};return s.integrity&&(d.integrity=s.integrity),s.referrerPolicy&&(d.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?d.credentials="include":s.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(s){if(s.ep)return;s.ep=!0;const d=l(s);fetch(s.href,d)}})();/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=T("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),M=()=>{const[a,m]=u.useState(null),[l,i]=u.useState("");if(u.useEffect(()=>{w().then(m)},[]),!a)return null;const s=r=>{const o={...a,...r};m(o),C(r)},d=()=>{const r=l.trim();if(!r||a.profiles.find(p=>p.name===r))return;const o={name:r,customRates:a.customRates,defaultPlaybackRate:a.defaultPlaybackRate};s({profiles:[...a.profiles,o],activeProfileName:r}),i("")},c=r=>{s({customRates:r.customRates,defaultPlaybackRate:r.defaultPlaybackRate,activeProfileName:r.name})},x=r=>{const p={profiles:a.profiles.filter(f=>f.name!==r)};a.activeProfileName===r&&(p.activeProfileName=null),s(p)};return e.jsxs("div",{className:"mt-3 space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Active profile"}),e.jsxs("div",{className:"flex gap-2 items-center text-sm",children:[e.jsxs("select",{className:"px-2 py-1 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",value:a.activeProfileName??"",onChange:r=>{const o=a.profiles.find(p=>p.name===r.target.value);o&&c(o)},children:[e.jsx("option",{value:"",children:"None"}),a.profiles.map(r=>e.jsx("option",{value:r.name,children:r.name},r.name))]}),e.jsx("button",{className:"px-3 py-1.5 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 hover:bg-gray-50 dark:hover:bg-neutral-800",onClick:()=>{const r=a.profiles.find(o=>o.name===a.activeProfileName);r&&c(r)},children:"Apply"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Create new profile"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{className:"flex-1 px-3 py-2 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",placeholder:"Profile name",value:l,onChange:r=>i(r.target.value),onKeyDown:r=>r.key==="Enter"&&d()}),e.jsx("button",{className:"px-3 py-2 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 hover:bg-gray-50 dark:hover:bg-neutral-800",onClick:d,children:"Add"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Profiles"}),e.jsxs("div",{className:"space-y-2",children:[a.profiles.length===0&&e.jsx("div",{className:"text-sm text-neutral-500",children:"No profiles yet."}),a.profiles.map(r=>e.jsxs("div",{className:"flex items-center justify-between rounded-md border border-gray-200 dark:border-neutral-800 p-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:r.name}),e.jsxs("div",{className:"text-xs text-neutral-500",children:["Default: ",r.defaultPlaybackRate," â€¢ Presets:"," ",r.customRates.join(", ")]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:"px-2 py-1 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 hover:bg-gray-50 dark:hover:bg-neutral-800 text-sm",onClick:()=>c(r),children:"Use"}),e.jsx("button",{className:"px-2 py-1 rounded-md border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30 text-red-700 dark:text-red-300 text-sm",onClick:()=>x(r.name),children:"Remove"})]})]},r.name))]})]})]})},k=()=>({id:crypto.randomUUID(),type:"channel",pattern:"",speed:1}),O=()=>{const[a,m]=u.useState(null),[l,i]=u.useState(k()),[s,d]=u.useState("channel"),[c,x]=u.useState(""),[r,o]=u.useState(1),[p,f]=u.useState("");u.useEffect(()=>{w().then(m)},[]);const g=t=>{if(!a)return;const n={...a,...t};m(n),C(t)};if(!a)return null;const P=()=>{l.pattern.trim()&&(g({rules:[...a.rules,{...l,speed:Number(l.speed)}]}),i(k()))},R=t=>g({rules:a.rules.filter(n=>n.id!==t)}),v=(t,n)=>{const b=a.rules.map(h=>h.id===t?{...h,...n}:h);g({rules:b})},S=()=>{const t=c.split(/[\,\n]/).map(b=>b.trim()).filter(Boolean);if(t.length===0)return;const n=t.map(b=>({id:crypto.randomUUID(),type:s,pattern:b,speed:Number(r)}));g({rules:[...a.rules,...n]}),x("")},A=()=>{const t=p.split(/\r?\n/).map(b=>b.trim()).filter(Boolean);if(t.length===0)return;const n=[];for(const b of t){const h=b.split(/[\t,]/).map(E=>E.trim());if(h.length<3)continue;const[L,y,U]=h,j=L.toLowerCase()||"title";if(!["title","channel","url"].includes(j))continue;const N=Number(U);!y||!Number.isFinite(N)||n.push({id:crypto.randomUUID(),type:j,pattern:y,speed:N})}n.length!==0&&(g({rules:[...a.rules,...n]}),f(""))};return e.jsxs("div",{className:"mt-3 space-y-5",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Add rule"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxs("select",{className:"px-2 py-1 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",value:l.type,onChange:t=>i({...l,type:t.target.value}),children:[e.jsx("option",{value:"channel",children:"Channel contains"}),e.jsx("option",{value:"title",children:"Title contains"}),e.jsx("option",{value:"url",children:"URL contains"})]}),e.jsx("input",{className:"px-2 py-1 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",placeholder:"Pattern",value:l.pattern,onChange:t=>i({...l,pattern:t.target.value})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",step:.05,className:"flex-1 px-2 py-1 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",placeholder:"Speed",value:l.speed,onChange:t=>i({...l,speed:Number(t.target.value)})}),e.jsx("button",{className:"px-3 py-1.5 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 hover:bg-gray-50 dark:hover:bg-neutral-800",onClick:P,children:"Add"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Add multiple patterns (same speed)"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxs("select",{className:"px-2 py-1 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",value:s,onChange:t=>d(t.target.value),children:[e.jsx("option",{value:"channel",children:"Channel contains"}),e.jsx("option",{value:"title",children:"Title contains"}),e.jsx("option",{value:"url",children:"URL contains"})]}),e.jsx("input",{className:"px-2 py-1 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",placeholder:"Comma or newline separated patterns",value:c,onChange:t=>x(t.target.value)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",step:.05,className:"flex-1 px-2 py-1 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",placeholder:"Speed",value:r,onChange:t=>o(Number(t.target.value))}),e.jsx("button",{className:"px-3 py-1.5 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 hover:bg-gray-50 dark:hover:bg-neutral-800",onClick:S,children:"Add"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Bulk import (CSV or tab: type,pattern,speed)"}),e.jsx("textarea",{className:"w-full min-h-[120px] px-3 py-2 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 text-sm",placeholder:`Examples
channel,veritasium,1.5
title,tutorial,1.75
url,youtu.be,1.25`,value:p,onChange:t=>f(t.target.value)}),e.jsx("div",{className:"mt-2",children:e.jsx("button",{className:"px-3 py-1.5 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 hover:bg-gray-50 dark:hover:bg-neutral-800",onClick:A,children:"Import"})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Rules"}),e.jsxs("div",{className:"space-y-2",children:[a.rules.length===0&&e.jsx("div",{className:"text-sm text-neutral-500",children:"No rules yet."}),a.rules.map(t=>e.jsxs("div",{className:"grid grid-cols-12 items-center gap-2 rounded-md border border-gray-200 dark:border-neutral-800 p-2 text-sm",children:[e.jsxs("select",{className:"col-span-3 px-2 py-1 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",value:t.type,onChange:n=>v(t.id,{type:n.target.value}),children:[e.jsx("option",{value:"channel",children:"Channel contains"}),e.jsx("option",{value:"title",children:"Title contains"}),e.jsx("option",{value:"url",children:"URL contains"})]}),e.jsx("input",{className:"col-span-5 px-2 py-1 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",value:t.pattern,onChange:n=>v(t.id,{pattern:n.target.value})}),e.jsx("input",{type:"number",step:.05,className:"col-span-2 px-2 py-1 rounded-md border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900",value:t.speed,onChange:n=>v(t.id,{speed:Number(n.target.value)})}),e.jsx("button",{className:"col-span-2 px-2 py-1 rounded-md border border-red-200 dark:border-red-800 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/30 text-red-700 dark:text-red-300",onClick:()=>R(t.id),children:"Remove"})]},t.id))]})]})]})};export{O as A,I as H,M as P};
